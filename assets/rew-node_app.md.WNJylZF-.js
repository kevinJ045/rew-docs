import{_ as a,c as i,o as n,ah as e}from"./chunks/framework.CbGIGEAd.js";const c=JSON.parse('{"title":"Rew app","description":"","frontmatter":{},"headers":[],"relativePath":"rew-node/app.md","filePath":"rew-node/app.md"}'),t={name:"rew-node/app.md"};function p(l,s,h,r,k,d){return n(),i("div",null,[...s[0]||(s[0]=[e(`<h1 id="rew-app" tabindex="-1">Rew app <a class="header-anchor" href="#rew-app" aria-label="Permalink to &quot;Rew app&quot;">​</a></h1><p>A <code>rew</code> app is the project structure, along with the app&#39;s requirements and the app&#39;s information.</p><p>Every app has to have a package name, like <code>app.package.name</code>, and that&#39;s how you create your app.</p><p>Once an app is made, it&#39;s package name along with the entry file is put in the <code>app.yaml</code> file at the root of the project.</p><h2 id="app-config" tabindex="-1">App Config <a class="header-anchor" href="#app-config" aria-label="Permalink to &quot;App Config&quot;">​</a></h2><p>The app config, <code>app.yaml</code>, holds information about you app, like the entry file which is the file to export/run the app.</p><p>Example:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">manifest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">example.package</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  entry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main.coffee</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span></code></pre></div><h2 id="running-an-app" tabindex="-1">Running an app <a class="header-anchor" href="#running-an-app" aria-label="Permalink to &quot;Running an app&quot;">​</a></h2><p>When running apps, you can either put the path to the root of the app, or the package name(only if installed).</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span></code></pre></div><h2 id="app-entries" tabindex="-1">App Entries <a class="header-anchor" href="#app-entries" aria-label="Permalink to &quot;App Entries&quot;">​</a></h2><p>Your app has an entry of <code>main.coffee</code> by default, and it uses that entry for everything, but you can change that or add other entries</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">manifest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">example.package</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  entry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main.coffee</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test.coffee</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  lib</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lib/lib.coffee</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span></code></pre></div><h2 id="running-other-entries" tabindex="-1">Running other entries <a class="header-anchor" href="#running-other-entries" aria-label="Permalink to &quot;Running other entries&quot;">​</a></h2><p>When you run an app, by default the entry name it runs is <code>exec.entry</code>. so instead you can add another entry and run it with the <code>--entry</code> flag.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --entry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # It will run exec.test</span></span></code></pre></div><h2 id="installing-an-app" tabindex="-1">Installing an app <a class="header-anchor" href="#installing-an-app" aria-label="Permalink to &quot;Installing an app&quot;">​</a></h2><p>To install a package, you can use the built in <a href="/rew-docs/pacman.html">package manager</a>, you can either specify the <code>app root path</code>, the <code>github repo</code>, or the repo id. Installed apps are put in the <a href="/rew-docs/conf.html">conf</a> <a href="/rew-docs/conf.html#Root">root</a>.</p><p>This is how you install paths:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span></code></pre></div><blockquote><p>Keep in mind that you should be in the root of your app for this to work. More about this in the <a href="/rew-docs/pacman.html">package manager</a></p></blockquote><h2 id="usin-qrew-binary-in-apps" tabindex="-1">Usin&#39; <code>qrew</code> Binary in apps <a class="header-anchor" href="#usin-qrew-binary-in-apps" aria-label="Permalink to &quot;Usin&#39; \`qrew\` Binary in apps&quot;">​</a></h2><p><a href="/rew-docs/qrew.html">Qrew</a> binaries can be quite confusing to work with when it comes to publishing apps, Here&#39;s how.</p><h2 id="qrew-as-entry-in-configs" tabindex="-1"><code>qrew</code> as entry in configs <a class="header-anchor" href="#qrew-as-entry-in-configs" aria-label="Permalink to &quot;\`qrew\` as entry in configs&quot;">​</a></h2><p>In your <code>app.yaml</code>, you can put the following data to tell the runner to run <code>main.qrew</code> instead of <code>main.coffee</code>:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># app.yaml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">manifest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">example.package</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  entry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main.qrew</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span></code></pre></div><p>Now when you run your app, you might run into errors saying <strong>main.qrew not found</strong>, so you can use the <code>--dev</code> flag to run an app but change the <code>.qrew</code> entry file to <code>.coffee</code>, here&#39;s how:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dev</span></span></code></pre></div><h2 id="building-qrew-on-run" tabindex="-1">Building <code>qrew</code> on run <a class="header-anchor" href="#building-qrew-on-run" aria-label="Permalink to &quot;Building \`qrew\` on run&quot;">​</a></h2><p>If you want to build and run instead, you can use the <code>--dev --build</code> flag instead. Here&#39;s how:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --build</span></span></code></pre></div><h2 id="translating-to-js" tabindex="-1">Translating to <code>js</code> <a class="header-anchor" href="#translating-to-js" aria-label="Permalink to &quot;Translating to \`js\`&quot;">​</a></h2><p>If you want to build and run, but to a <code>js</code> format, you can add the <code>--translate</code> flag instead. Here&#39;s how:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --translate</span></span></code></pre></div><p>More about translating <a href="/rew-docs/build.html#translate-to-js">here</a></p><h2 id="building-on-install" tabindex="-1">Building on install <a class="header-anchor" href="#building-on-install" aria-label="Permalink to &quot;Building on install&quot;">​</a></h2><p>You might want to build your code and install for security purposes, so you can put your build options in your <code>app.yaml</code> to make it build on install</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">manifest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">example.package</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  entry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main.qrew</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">install</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main.coffee</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    remove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Other build options</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span></code></pre></div><h2 id="requiring-other-apps" tabindex="-1">Requiring other apps <a class="header-anchor" href="#requiring-other-apps" aria-label="Permalink to &quot;Requiring other apps&quot;">​</a></h2><p>You can require other apps to install with your app as libraries.</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">manifest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">example.package</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  entry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main.qrew</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">install</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  requirements</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;@rewpkgs/my.app.package&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;github:username/repo&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span></code></pre></div><p>And install requirements with:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --requirements</span></span></code></pre></div><pre><code>  or
</code></pre><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span></span></code></pre></div><h2 id="running-installed-apps" tabindex="-1">Running installed apps <a class="header-anchor" href="#running-installed-apps" aria-label="Permalink to &quot;Running installed apps&quot;">​</a></h2><p>To run installed apps, you can do as follows:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> example.package</span></span></code></pre></div>`,49)])])}const g=a(t,[["render",p]]);export{c as __pageData,g as default};
